<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension-point id="mimeTypeImages" name="Mime Type Images" schema="schema/mimeTypeImages.exsd"/>

   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application>
         <run
               class="ncsa.mmdb.ui.rcp.MMDB">
         </run>
      </application>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            name="RCP Perspective"
            class="ncsa.mmdb.ui.rcp.Perspective"
            id="ncsa.mmdb.ui.perspective">
      </perspective>
   </extension>
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="ncsa.mmdb.ui.application"
            name="MMDB">
         <property
               name="windowImages"
               value="icons/alt_window_16.gif,icons/alt_window_32.gif">
         </property>
      </product>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="ncsa.mmdb.ui.category"
            class="ncsa.mmdb.ui.views.CollectionsView"
            icon="icons/books_stack.png"
            id="ncsa.mmdb.ui.views.CollectionsView"
            name="Collections"
            restorable="true">
      </view>
      <category
            id="ncsa.mmdb.ui.category"
            name="MMDB">
      </category>
      <view
            category="ncsa.mmdb.ui.category"
            class="ncsa.mmdb.ui.views.DatasetGalleryView"
            icon="icons/application_view_tile.png"
            id="ncsa.mmdb.ui.views.DatasetGalleryView"
            name="Gallery"
            restorable="true">
      </view>
   </extension>
   <extension
         id="productmmdb"
         point="org.eclipse.core.runtime.products">
      <product
            application="ncsa.mmdb.ui.application"
            name="MMDB">
         <property
               name="windowImages"
               value="icons/alt_window_16.gif,icons/alt_window_32.gif">
         </property>
         <property
               name="appName"
               value="MMDB">
         </property>
      </product>
   </extension>
   <extension
         point="ncsa.mmdb.ui.mimeTypeImages">
      <mimeTypeImage
            image="icons/image.png"
            mimeType="image">
      </mimeTypeImage>
   </extension>
   <extension
         point="org.eclipse.ui.services">
      <serviceFactory
            factoryClass="ncsa.mmdb.ui.services.MimeTypeImageServiceFactory">
         <service
               serviceClass="ncsa.mmdb.ui.services.IMimeTypeImageService">
         </service>
      </serviceFactory>
      <serviceFactory
            factoryClass="ncsa.mmdb.ui.services.ContextBeanContextServiceFactory">
         <service
               serviceClass="ncsa.bard.ui.services.IContextService"></service>
      </serviceFactory>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="ncsa.mmdb.ui.command.galleryItemTest"
            name="Gallery Item Test">
      </command>
      <command
            id="ncsa.mmdb.ui.command.deleteDataset"
            name="Delete">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="ncsa.mmdb.ui.handlers.GalleryItemTestHandler"
            commandId="ncsa.mmdb.ui.command.galleryItemTest">
      </handler>
      <handler
            class="ncsa.mmdb.ui.handlers.DeleteImageHandler"
            commandId="ncsa.mmdb.ui.command.deleteDataset">
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="popup:org.eclipse.ui.popup.any">
         <command
               commandId="ncsa.mmdb.ui.command.galleryItemTest"
               label="Gallery Item Test"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <iterate>
                  <instanceof
                        value="org.eclipse.nebula.widgets.gallery.GalleryItem">
                  </instanceof>
               </iterate>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="menu:org.eclipse.ui.main.menu?after=additions">
         <menu
               label="File">
         </menu>
         <menu
               label="MMDB">
            <dynamic
                  class="edu.uiuc.ncsa.cet.tupelo.actions.ContextMenu"
                  id="ncsa.mmdb.ui.dynamic.context">
            </dynamic>
            <command
                  commandId="ncsa.bard.ui.command.clearContext"
                  style="push">
            </command>
         </menu>
         <menu
               label="Window">
            <command
                  commandId="org.eclipse.ui.views.showView"
                  style="push">
            </command>
            <command
                  commandId="org.eclipse.ui.window.preferences"
                  style="push">
            </command>
         </menu>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:ncsa.mmdb.ui.views.CollectionsView">
         <command
               commandId="ncsa.bard.ui.commands.refresh"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:ncsa.mmdb.ui.views.DatasetGalleryView">
         <command
               commandId="ncsa.bard.ui.commands.refresh"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="popup:ncsa.mmdb.ui.views.CollectionsView">
         <command
               commandId="ncsa.mmdb.ui.command.deleteDataset"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.eclipse.nebula.widgets.gallery.GalleryItem"
            class="ncsa.mmdb.ui.adapters.GalleryItemAdapterFactory">
         <adapter
               type="ncsa.bard.model.ISubjectSource">
         </adapter>
      </factory>
      <factory
            adaptableType="edu.uiuc.ncsa.cet.bean.CETBean"
            class="ncsa.mmdb.ui.adapters.CETBeanAdapterFactory">
         <adapter
               type="ncsa.bard.model.ISubjectSource">
         </adapter>
      </factory>
   </extension>
   <extension
         point="org.eclipse.ui.commandImages">
      <image
            commandId="ncsa.mmdb.ui.command.deleteDataset"
            icon="icons/delete.gif">
      </image>
   </extension>

</plugin>
