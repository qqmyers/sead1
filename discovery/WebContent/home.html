<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Home Page</title>
</head>
<link href="css/bootstrap.css" rel="stylesheet">
<script src="http://code.jquery.com/jquery-1.8.1.min.js"
	type="text/javascript"></script>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="scripts/jquery-cookie.js"></script>
<script type="text/javascript">
	function toggle(elementID) {
		var divElement = document.getElementById(elementID);
		var buttonElement = document.getElementById("btn" + elementID);
		if (divElement.style.display == "block") {
			divElement.style.display = "none";
			buttonElement.innerHTML = "+";
		} else {
			divElement.style.display = "block";
			buttonElement.innerHTML = "-";
		}

	}

	$(function() {
		/* var userName = document.cookie.substring(0, document.cookie
				.indexOf("="));
		var password = document.cookie
				.substring(document.cookie.indexOf("=") + 1);
		$.cookie(userName, null);
		$.cookie(userName, password); */

		$.ajax({
			type : "GET",
			url : "Home",
			dataType : "xml",
			success : xmlParser
		});

	});

	function xmlParser(xml) {
		var uri = '';
		var title = '';
		var div_html = '';
		$(xml)
				.find("result")
				.each(
						function() {

							if ($(this).find("binding").each(function() {
								if ($(this).attr("name") == "tagID") {
									uri = $(this).find("uri").text();
								} else if ($(this).attr("name") == "title") {
									title = $(this).find("literal").text();
								}
							}))
								;

							div_html += "<div class='well'><table><tbody><tr><td width='400'>"
									+ "<a href='contents.html?i="
									+ uri
									+ "&t="
									+ title
									+ "'>"
									+ title
									+ "</a></td><td><a id='btn"
									+ uri
									+ "' class='btn btn-mini btn' href='javascript:toggle(\""
									+ uri
									+ "\")'> + <a/></td></tr></tbody></table><div id='"+ uri +"' style='display:none'>"
									+ "<b>Abstract: </b>To be updated</div></div>";

							/* uri = $(this).find("uri").text();
							literal = $(this).find("literal").text(); */
							/* div_html += "<div class='well'>"
									+ "<a href='contents.html?i=" + uri + "&t="
									+ literal + "'>" + literal + "</a><br />"
									+ "<b>Abstract: </b>To be updated</div>"; */
						});
		$("#xmlBody").html(div_html);

	}
</script>

<body>
	<div class="page-header">
		<h1>NCED Collections</h1>
	</div>
	<div style="width: 425px; margin-top: 50px; margin-left: 100px"
		id="xmlBody"></div>
</body>
</html>